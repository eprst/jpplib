<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- This file is part of the Javaâ„¢ Pretty Printer Library (JPPlib) -->
<!-- Copyright (C) 2007 Martin Giese -->

<!-- This program is free software: you can redistribute it and/or modify -->
<!-- it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or -->
<!-- (at your option) any later version. -->

<!-- This program is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the -->
<!-- GNU General Public License for more details. -->

<!-- You should have received a copy of the GNU General Public License -->
<!-- along with this program.  If not, see <http://www.gnu.org/licenses/>. -->

<project basedir="." default="create-jpplib-zips">
	<!-- Import the Eclipse-generated build file 
	     for JUnit path, build target, etc -->
	<import file="build.xml"/>
	<property name="jpplib.version" value="0.6"/>
	<property name="jpplib.jarfile" value="jpplib-${jpplib.version}.jar"/>
	<target name="create-jpplib-zips"
		depends="create-jpplib-bin-zip,create-jpplib-src-zip"/>
	<target name="create-jpplib-bin-zip"
		depends="create-jpplib-jar,create-javadocs">
		<zip destfile="jpplib-bin-${jpplib.version}.zip" update="false">
			<zipfileset dir="." prefix="jpplib-bin-${jpplib.version}">
				<include name="api/"/>
				<include name="demo/"/>
				<include name="LICENSE"/>
				<include name="README"/>
				<include name="${jpplib.jarfile}"/>
			</zipfileset>
		</zip>
	</target>
	<target name="create-jpplib-src-zip">
		<zip destfile="jpplib-src-${jpplib.version}.zip" update="false">
			<zipfileset dir="." prefix="jpplib-src-${jpplib.version}">
				<include name="src/"/>
				<include name="demo/"/>
				<include name=".project"/>
				<include name=".classpath"/>
				<include name="build.xml"/>
				<include name="build-distro.xml"/>
				<include name="LICENSE"/>
				<include name="README"/>
				<include name="README-devel"/>
			</zipfileset>
		</zip>
	</target>
   	<target name="create-javadocs">
    	<delete dir="api"/>
   		<javadoc destdir="api"
				 classpathref="JUnit 3.8.1.libraryclasspath"
   			     use="true">
   			<fileset dir="src" id="id">
    			<exclude name="**/Test**.java"/>
    			<exclude name="**/package.html"/>
			</fileset>
   			<header><![CDATA[<h1>Java&trade; Pretty Printer Library v${jpplib.version}</h1>]]></header>
   		</javadoc>
    </target>
	<target name="create-sf.net-javadocs">
	    	<delete dir="sf-api"/>
	   		<javadoc destdir="sf-api"
					 classpathref="JUnit 3.8.1.libraryclasspath"
	   			     use="true">
	   			<fileset dir="src" id="id">
	    			<exclude name="**/Test**.java"/>
	    			<exclude name="**/package.html"/>
				</fileset>
	   			<header><![CDATA[<h1>Java&trade; Pretty Printer Library v${jpplib.version}</h1>]]></header>
				<footer><![CDATA[<a href="http://sourceforge.net" target="_top">
	                       <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=201117&amp;type=1"
	                        width="88" height="31" border="0" alt="SourceForge.net" /></a>]]>
				</footer>
	   		</javadoc>
	    </target>	<target name="create-jpplib-jar" depends="build">
		<jar destfile="${jpplib.jarfile}" update="false"
			basedir="bin" 
			includes="de/**"
			excludes="**/Test*"/>
	</target>
</project>
